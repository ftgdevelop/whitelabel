import React,{useState,useEffect} from 'react'
import PropTypes from 'prop-types'
import {connect} from 'react-redux'
import { Row, Col } from 'antd'
import { withTranslation } from '../../../../i18n'

import styles from '../../../styles/Home.module.css'

const MyService = props => {
    const { t } = props;
    const [localStorageName,setLocalStorageName] = useState();
    useEffect(()=>{
        let project = window.localStorage.whiteLabelProjectName;
        setLocalStorageName(project);
    },[]);

    const getPortalValue = (dataArray, keyword) => {
        const itemIndex = dataArray.findIndex((item) => item.Keyword === keyword);
          if (itemIndex !== -1 && dataArray[itemIndex]) {
            return dataArray[itemIndex];
          } else {
            return null;
          }
      }
    let portalName; 
    if( props.portalInfo){
        portalName=getPortalValue(props.portalInfo.Phrases,"Name")['Value'];        
    } 

    return (
        <div className={`${styles.myService} ${process.env.THEME_NAME === "TRAVELO" && styles.myServiceTravelo}`}>
            <div className={styles.container}>
                <Row>
                    <Col xs={24} sm={6} md={6} lg={6} xl={6}>
                        <div className={styles.myServiceItem}>
                            <div className={styles.myServiceIcon}>
                                <svg className="icon" viewBox="0 0 1082 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="64" height="64"><path d="M89.88785 873.145286a134.691709 134.691709 0 0 1-89.794472-131.997874v-140.977322a131.09993 131.09993 0 0 1 68.692771-114.03898v-12.122253A471.42098 471.42098 0 0 1 987.832574 323.603115a44.897236 44.897236 0 0 1-84.406804 30.979093 378.483701 378.483701 0 0 0-179.588945-215.955706A384.769314 384.769314 0 0 0 159.029594 476.253718v44.897237a44.897236 44.897236 0 0 1-44.897236 44.897236c-7.63253 0-22.448618 17.509922-22.448618 34.121899v145.467046a44.897236 44.897236 0 0 0 89.794472 0v-100.569809a44.897236 44.897236 0 0 1 89.794473 0v100.569809A134.691709 134.691709 0 0 1 89.88785 873.145286z m892.557056 9.877392A134.691709 134.691709 0 0 0 1077.627047 754.616583v-130.201985a134.691709 134.691709 0 0 0-89.794473-131.997874 134.691709 134.691709 0 0 0-179.588945 127.957123v89.794472a44.897236 44.897236 0 0 0 89.794473 0v-89.794472a44.897236 44.897236 0 0 1 89.794472 0v134.691708a44.897236 44.897236 0 0 1-44.897236 44.897236 44.897236 44.897236 0 0 0-44.897236 47.591071 89.794472 89.794472 0 0 1-89.794473 87.100638h-179.588944V902.777462a44.897236 44.897236 0 0 0-89.794473 0v76.325302a44.897236 44.897236 0 0 0 44.897236 44.897236h224.486181a179.588945 179.588945 0 0 0 175.548194-140.977322z" fill="#339e38"></path></svg>
                            </div>
                            <b>{t('service1')}</b>
                            <span>{t('service1-desc',{portalName: portalName? portalName: localStorageName})}</span>
                        </div>
                    </Col>
                    <Col xs={24} sm={6} md={6} lg={6} xl={6}>
                        <div className={styles.myServiceItem}>
                            <div className={styles.myServiceIcon}>
                                <svg className="icon" viewBox="0 0 1032 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="64" height="64"><path d="M422.144222 1023.110339h-9.341442a120.993918 120.993918 0 0 1-72.062554-61.38662 136.118158 136.118158 0 0 0-18.238054-27.579497 216.632493 216.632493 0 0 0-29.358818 2.668984 119.659427 119.659427 0 0 1-92.524761-14.234579 120.104257 120.104257 0 0 1-37.365769-86.297133 133.449175 133.449175 0 0 0-5.782798-30.248479 205.511729 205.511729 0 0 0-27.134665-10.675934 120.549088 120.549088 0 0 1-77.400522-53.824501 119.659427 119.659427 0 0 1 4.448306-93.414422 133.449175 133.449175 0 0 0 8.006951-30.248479 215.298002 215.298002 0 0 0-20.907038-18.682885 121.438749 121.438749 0 0 1-44.483058-83.183319 138.787142 138.787142 0 0 1 44.483058-88.966116 133.449175 133.449175 0 0 0 22.241529-28.913988A128.111208 128.111208 0 0 0 64.055604 355.864466a136.562989 136.562989 0 0 1 4.893136-97.862728 137.45265 137.45265 0 0 1 84.962641-54.714162 133.449175 133.449175 0 0 0 35.141616-14.679409 129.89053 129.89053 0 0 0 14.67941-35.141616 137.89748 137.89748 0 0 1 54.269331-84.517811A136.562989 136.562989 0 0 1 355.864466 64.055604a127.221546 127.221546 0 0 0 38.70026 4.893136A130.780191 130.780191 0 0 0 425.258036 44.483058a138.787142 138.787142 0 0 1 88.966117-44.483058 138.787142 138.787142 0 0 1 88.966116 44.483058 130.780191 130.780191 0 0 0 28.913988 22.241529 123.662902 123.662902 0 0 0 38.700261-4.893136 136.562989 136.562989 0 0 1 99.64205 4.893136 137.45265 137.45265 0 0 1 54.714162 84.962641 133.449175 133.449175 0 0 0 14.679409 35.141616 129.89053 129.89053 0 0 0 35.141616 14.67941 137.89748 137.89748 0 0 1 88.076455 56.493484 137.007819 137.007819 0 0 1 4.893137 97.862728 129.445699 129.445699 0 0 0-4.893137 38.25543 133.449175 133.449175 0 0 0 22.241529 28.913988 138.787142 138.787142 0 0 1 44.483059 88.966116 121.438749 121.438749 0 0 1-44.483059 83.183319 133.449175 133.449175 0 0 0-19.572545 22.241529 202.397915 202.397915 0 0 0 8.451781 28.469157 119.659427 119.659427 0 0 1 4.448306 93.414422 120.549088 120.549088 0 0 1-77.400522 53.824501 136.118158 136.118158 0 0 0-28.024326 11.565595 210.404865 210.404865 0 0 0-4.893137 28.913988 120.104257 120.104257 0 0 1-37.365769 86.297133 119.659427 119.659427 0 0 1-92.524761 14.234578 123.662902 123.662902 0 0 0-30.69331 0 199.728931 199.728931 0 0 0-16.903562 23.131191A120.993918 120.993918 0 0 1 619.20417 1023.110339a44.483058 44.483058 0 0 1-17.793223-88.966117l16.013901-23.57602a139.676803 139.676803 0 0 1 54.269331-55.158993 142.345786 142.345786 0 0 1 78.290182-5.337967 254.887924 254.887924 0 0 0 26.245005 0 222.415291 222.415291 0 0 0 4.448306-26.245004 140.566464 140.566464 0 0 1 24.910512-73.841877 140.121633 140.121633 0 0 1 67.169418-38.25543 222.415291 222.415291 0 0 0 24.910513-9.786272 230.867072 230.867072 0 0 0-7.56212-24.910513 141.900956 141.900956 0 0 1-10.231104-77.845352 138.787142 138.787142 0 0 1 44.483059-64.055604 133.449175 133.449175 0 0 0 20.462206-23.576021c0-3.113814-15.56907-18.682884-24.020851-28.024326a165.476977 165.476977 0 0 1-44.483058-65.834926 170.370113 170.370113 0 0 1 3.558644-80.069505 130.335361 130.335361 0 0 0 4.893137-37.365769 161.473501 161.473501 0 0 0-34.696786-13.789748 167.701129 167.701129 0 0 1-70.283232-36.476108 168.14596 168.14596 0 0 1-36.476107-70.728062 128.111208 128.111208 0 0 0-14.67941-35.586447 172.149435 172.149435 0 0 0-36.476107 5.337967 169.925282 169.925282 0 0 1-80.069505 3.558645 165.476977 165.476977 0 0 1-65.834926-44.483059 122.773241 122.773241 0 0 0-30.69331-19.127715 133.449175 133.449175 0 0 0-30.693311 23.576021 165.476977 165.476977 0 0 1-65.834926 44.483058 169.480452 169.480452 0 0 1-80.069504-3.558644 124.997394 124.997394 0 0 0-37.365769-4.893137 164.587315 164.587315 0 0 0-13.789748 34.696786 167.701129 167.701129 0 0 1-36.476108 70.728062 168.14596 168.14596 0 0 1-70.728063 36.476108 127.221546 127.221546 0 0 0-35.586446 14.679409 165.032146 165.032146 0 0 0 5.337967 36.476108 170.370113 170.370113 0 0 1 3.558644 80.069505 165.476977 165.476977 0 0 1-44.483058 65.834926 124.552563 124.552563 0 0 0-23.576021 31.582971l20.017377 20.462207a138.787142 138.787142 0 0 1 44.483058 64.055604 141.900956 141.900956 0 0 1-10.231104 77.845352 222.415291 222.415291 0 0 0-7.56212 24.910512 222.415291 222.415291 0 0 0 24.910513 9.786273 140.121633 140.121633 0 0 1 67.614249 39.145091 140.566464 140.566464 0 0 1 24.910512 74.286708 222.415291 222.415291 0 0 0 4.448306 26.245004h26.245004a141.011295 141.011295 0 0 1 78.290183 5.337967 139.231972 139.231972 0 0 1 54.269331 55.158992 133.449175 133.449175 0 0 0 19.127715 24.465682 44.483058 44.483058 0 0 1 33.362293 52.045178 44.483058 44.483058 0 0 1-43.593397 30.24848z m31.138141-380.774978l188.608167-188.608167A44.483058 44.483058 0 0 0 578.279757 390.116421L390.116421 578.279757a44.483058 44.483058 0 1 0 62.721112 62.721112zM427.037359 382.554301a44.483058 44.483058 0 1 0 44.483058 44.483058 44.483058 44.483058 0 0 0-44.483058-44.483058z m177.932233 177.932232a44.483058 44.483058 0 1 0 44.483058 44.483059 44.483058 44.483058 0 0 0-44.483058-44.483059z" fill="#E71927"></path></svg>
                            </div>
                            <b>{t('service2')}</b>
                            <span>{t('service2-desc',{portalName: portalName? portalName: localStorageName})}</span>
                        </div>
                    </Col>
                    <Col xs={24} sm={6} md={6} lg={6} xl={6}>
                        <div className={styles.myServiceItem}>
                            <div className={styles.myServiceIcon}>
                            <svg className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="64" height="64"><path d="M767.976397 210.28189a42.827269 42.827269 0 0 1-38.544542-23.554997C682.321859 93.363446 652.34277 87.795901 646.775225 87.795901c-24.839816 0-56.531995 54.818904-67.238812 72.806357a186.29862 186.29862 0 0 1-14.561271 22.27018c-28.69427 33.833542-65.525721 6.852363-85.654538-7.280635S414.651428 128.053534 382.530976 135.33417c-17.55918 4.282727-33.833542 21.413634-48.823086 51.392723a42.827269 42.827269 0 1 1-76.660812-38.11627 165.741531 165.741531 0 0 1 106.6399-96.361355 195.720619 195.720619 0 0 1 153.749895 42.827269c24.839816-42.827269 67.667085-95.076537 131.479716-95.076537 57.38854 0 108.781263 49.679632 157.176077 146.46926A42.827269 42.827269 0 0 1 767.976397 210.28189z m128.481806 685.236303v-342.618151a85.654538 85.654538 0 0 0 85.654538-85.654538v-85.654538a85.654538 85.654538 0 0 0-85.654538-85.654538H125.567363a85.654538 85.654538 0 0 0-85.654538 85.654538v85.654538a85.654538 85.654538 0 0 0 85.654538 85.654538h556.754496a42.827269 42.827269 0 0 0 0-85.654538H125.567363v-85.654538h770.89084v85.654538a85.654538 85.654538 0 0 0-85.654538 85.654538v342.618151a42.827269 42.827269 0 0 1-42.827268 42.827269H254.049169a42.827269 42.827269 0 0 1-42.827268-42.827269v-256.963613a42.827269 42.827269 0 0 0-85.654538 0v256.963613a128.481807 128.481807 0 0 0 128.481806 128.481807h513.927228a128.481807 128.481807 0 0 0 128.481806-128.481807z" fill="#2B3783"></path></svg>
                            </div>
                            <b>{t('service3')}</b>
                            <span>{t('service3-desc',{portalName: portalName? portalName: localStorageName})}</span>
                        </div>
                    </Col>
                    <Col xs={24} sm={6} md={6} lg={6} xl={6}>
                        <div className={styles.myServiceItem}>
                            <div className={styles.myServiceIcon}>
                            <svg className="icon" viewBox="0 0 1367 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  width="64" height="64"><path d="M686.64126 649.67527a170.66477 170.66477 0 0 1-113.776514-40.959545L475.016944 522.814458a56.888257 56.888257 0 0 1 73.954734-86.470151l100.692215 86.470151a56.888257 56.888257 0 0 0 71.679203 0L1251.54165 117.770069 170.66477 113.787891a56.888257 56.888257 0 0 1 0-113.776513h1080.87688a113.776514 113.776514 0 0 1 109.794335 78.505794 113.776514 113.776514 0 0 1-39.252897 129.136343L790.746769 614.404551a170.66477 170.66477 0 0 1-104.105509 35.270719zM1365.318163 853.33523V398.229175a56.888257 56.888257 0 0 0-113.776513 0v455.106055a56.888257 56.888257 0 0 1-56.888257 56.888256H398.217798a56.888257 56.888257 0 0 0 0 113.776514h796.435595a170.66477 170.66477 0 0 0 170.66477-170.66477zM455.106054 284.452662a56.888257 56.888257 0 0 0-56.888256-56.888257H56.888257a56.888257 56.888257 0 0 0 0 113.776513h341.329541a56.888257 56.888257 0 0 0 56.888256-56.888256z m0 455.106054a56.888257 56.888257 0 0 0-56.888256-56.888257H227.553027a56.888257 56.888257 0 0 0 0 113.776514h170.664771a56.888257 56.888257 0 0 0 56.888256-56.888257z" fill="#723e8f"></path></svg>
                            </div>
                            <b>{t('service4')}</b>
                            <span>{t('service4-desc',{portalName: portalName? portalName: localStorageName})}</span>
                        </div>
                    </Col>
                </Row>
            </div>
        </div>
    )
}

MyService.getInitialProps = async () => ({
    namespacesRequired: ['common'],
})
  
MyService.propTypes = {
t: PropTypes.func.isRequired,
}
  

const mapStateToProp = (state) => {
return {
    portalInfo: state.portal.portalData,
};
};

export default withTranslation('common')(connect(mapStateToProp)(MyService))
